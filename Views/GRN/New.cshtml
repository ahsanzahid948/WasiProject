@{
    ViewBag.Title = "Index";
}

@section styles{
    <style>

        .jvmodalbodyscroll {
            /*height: 510px !important;
            overflow-y: scroll !important;*/
        }

        .buttondisplay {
            display: none;
        }
    </style>
}
<!---->

<head>
    <title>Purchase Orders</title>
</head>
@{
    string DestinationStoreID = "0";
    DestinationStoreID = "avc";
}
<div class="breadcrumb-line breadcrumb-line-light header-elements-md-inline">
    <div class="d-flex">
        <div class="breadcrumb">
            <a href="" class="breadcrumb-item"><i class="icon-home2 mr-2"></i> Home</a>
            <span class="breadcrumb-item active">Purchase Orders</span>
        </div>
        <a href="#" class="header-elements-toggle text-default d-md-none"><i class="icon-more"></i></a>
    </div>
</div>
<div class="card" style="font-size: 14px !important;">
    <div class="card-header header-elements-inline search-header content-header">
        <h5 class="card-title">
            <i class=""></i>Goods Receipt Note
        </h5>
    </div>
    <form id="GoodsReceiptForm">
        @Html.AntiForgeryToken()

        <div class="card-body">

            <div class="tab-content">
                <div class="tab-pane fade in active show" id="generalinformation">





                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="col-form-label "> GRN No </label>
                                <div class="col-md-10">
                                    <input type="text" id="txtGRNNo" name="txtGRNNo" maxlength="15" class="form-control" />
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="col-form-label "> Date </label>
                                <div class="col-md-10">
                                    <input type="date" value="" id="txtGRNDate" name=" txtGRNDate" maxlength="15" autocomplete="off" placeholder="" class="form-control pickadate-accessibility" />
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="col-form-label "> Project </label>
                                <div class="col-md-10">
                                    <input type="text" value="" id="txtGRNProject" name=" txtGRNProject" maxlength="15" autocomplete="off" placeholder="" class="form-control" />
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="col-form-label ">
                                    Name
                                </label>
                                <div class="col-md-10">
                                    <input type="text" id="txtGRNName" name="txtGRNName" maxlength="10" class="form-control " placeholder="" />
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="col-form-label "> Designation </label>
                                <div class="col-md-10">
                                    <input type="text" value="" id="txtDesignation" name="txtDesignation" maxlength="95" class="form-control" />

                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="col-form-label "> LAB </label>
                                <div class="col-md-10">
                                    <input type="text" value="" id="txtLAB" name="txtLAB" maxlength="95" class="form-control" />

                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="card">
                    <div class="card-header header-elements-inline" style="color:white">
                        <h5 class="card-title" style="width:50% !important;">

                            <button type="button" class='btn   btn-labeled btn-labeled-left btn-sm authorizeOrNotInsert clsPOStatusClosed' data-toggle="modal" data-target="#GRNDetailModel" style="text-decoration:none;background-color:white;">
                                <b><i class="icon-plus3"></i></b>
                                Add New
                            </button>
                            <span class="font-weight-semibold">Items List</span>

                        </h5>


                    </div>
                    <div class="card-body">
                        <table class="table " id="detailtbl">
                            <thead>
                                <tr>
                                    <th> Sr. #</th>

                                    <th> Leadger Page </th>
                                    <th> Description </th>
                                    <th> AU </th>
                                    <th> QTY Created </th>
                                    <th> QTY Recived </th>
                                    <th> Rate  </th>

                                    <th> Total Cost </th>
                                    

                                    <th style="text-align:right">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>

                            <!--<tfoot class="text-center">
                                <tr>
                                    <th colspan="4" id="">Total Cost Received 0</th>
                                    <th colspan="4" id="">Amount Remaining 0</th>
                                    <th colspan="4" id="">Total Cost Ordered 0</th>
                                </tr>
                            </tfoot>-->
                        </table>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-2 text-right" id="">Total Cost Received</div><div class="col-md-2 text-left" id="idDivTotalReceivedQtyPrice">0</div>
                    <div class="col-md-2 text-right" id="">Amount Remaining</div><div class="col-md-2 text-left" id="idDivRemainingReceiveQty">0</div>
                    <div class="col-md-2 text-right" id="">Total Cost Ordered</div><div class="col-md-2 text-left" id="idDivTotalCostOrdered">0</div>
                </div>
            </div>

        </div>
        <div class="modal-footer">
            <div class="row">
                <div class="col-md-12">
                    <button type="button" class="btn bg-danger btn-labeled btn-labeled-left btn-sm" id="btnPOCancel" onclick="fnGoBackToList()" style="color:white"><b><i class="icon-cross2"></i></b> Cancel</button>
                    @*<button class="btn btn-primary btn-sm clsPOStatusClosed" id="btnsave" type="submit">Save</button>*@
                    <button class="btn btn-primary btn-sm clsPOStatusClosed" type="submit" id="btnsave" onclick="SetRedirection(1);">Save</button>
                    <button class="btn btn-primary btn-sm clsPOStatusClosed" type="submit" id="btnsaveandList" onclick="SetRedirection(2);">Save and Go to List</button>

                    <button class="btn btn-primary btn-sm clsPOStatusClosed" id="btnsaveReOrderLowItems" disabled type="button" onclick="fnReorderLowItems();"><b><i class="icon-plus3"></i></b> Re order low stock items</button>
                    <button class="btn btn-primary btn-sm clsPOStatusClosed buttondisplay" id="btnClosePO" disabled onclick="fnClosePO()" type="button">Close</button>
                </div>
            </div>

        </div>
    </form>
</div>

<!-- Add ItemModal-->
<div id="GRNDetailModel" class="modal  fade" style="font-size: 12px !important;">
    <div class="modal-dialog modal-md">
        <div class="modal-content">

            <div class="modal-header">
                <h4 class="modal-title"><i class="icon-pencil"></i> <span id="modalHeading" class="caption-subject font-green bold uppercase">GRN Detail</span></h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>

            </div>


            <div class="card-body">
                <form id="AddNewItemForm">
                    @Html.AntiForgeryToken()
                    <div class="form-group row">
                        <div class="col-md-4">
                            <label class="control-label">Leader Page</label>
                        </div>
                        <div class="col-md-6">
                            <input type="number" class="form-control" id="LeaderPage" required />



                        </div>

                    </div>

                    <div class="form-group row">
                        <div class="col-md-4">
                            <label class="control-label">Description</label>
                        </div>
                        <div class="col-md-6">
                            <input type="text" class="form-control" id="DetailDescription" required />



                        </div>

                    </div>
                    <div class="form-group row">
                        <div class="col-md-4">
                            <label class="control-label">AU</label>
                        </div>
                        <div class="col-md-6">
                            <input type="number" class="form-control" id="AU" required />



                        </div>

                    </div>
                    <div class="form-group row">
                        <div class="col-md-4">
                            <label class="control-label">QTYCreated</label>
                        </div>
                        <div class="col-md-6">
                            <input type="number" class="form-control" id="QTYCreated" required />


                        </div>

                    </div>
                    <div class="form-group row">
                        <div class="col-md-4">
                            <label class="control-label">QTY Recived</label>
                        </div>
                        <div class="col-md-6">
                            <input type="number" class="form-control" id="QTYRecived" required />


                        </div>

                    </div>
                    <div class="form-group row">
                        <div class="col-md-4">
                            <label class="control-label">Rate</label>
                        </div>
                        <div class="col-md-6">
                            <input type="number" class="form-control" id="Rate" required />


                        </div>

                    </div>
                    <div class="form-group row">
                        <div class="col-md-4">
                            <label class="control-label">Total Cost</label>
                        </div>
                        <div class="col-md-6">
                            <input type="number" class="form-control" id="TotalCost" required />


                        </div>

                    </div>
                </form>
               
            </div>





            <div class="modal-footer">
                <button type="button" onclick="adddetail()" class="btn bg-primary btn-labeled btn-labeled-left btn-sm" style="color:white" ><b><i class="icon-cross2"></i></b>Save</button>
                <button type="button" class="btn bg-danger btn-labeled btn-labeled-left btn-sm" style="color:white" data-dismiss="modal"><b><i class="icon-cross2"></i></b>Close</button>


            </div>
        </div>

    </div>

</div>



@section scripts
{

    @Scripts.Render("~/bundles/DataTableScripts")

    @Scripts.Render("~/bundles/DateScripts")
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twbs-pagination/1.4.2/jquery.twbsPagination.min.js"></script>
    <script>
        var count = 0;
            $(document).ready(function () {
                
            });

      
        function adddetail() {
            count++;
            var row = "<tr><td>" + count + "</td>"
                + "<tr><td>" + $("LeaderPage").val() + "</td>" +
                + "<tr><td>" + $("DetailDescription").val() + "</td>" +
                + "<tr><td>" + $("AU").val() + "</td>" +
                + "<tr><td>" + $("QTYCreated").val() + "</td>" +
                + "<tr><td>" + $("QTYRecived").val() + "</td>" +
                + "<tr><td>" + $("Rate").val() + "</td>" +
                + "<tr><td>" + $("TotalCost").val() + "</td>";
        }

        $("#detailtbl").find('tbody').append(row);
            
           
        </script>
}
